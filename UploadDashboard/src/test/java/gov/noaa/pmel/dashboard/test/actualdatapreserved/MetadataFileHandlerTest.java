package gov.noaa.pmel.dashboard.test.actualdatapreserved;

import gov.noaa.pmel.dashboard.handlers.MetadataFileHandler;
import gov.noaa.pmel.dashboard.server.DashboardConfigStore;
import org.junit.Test;

import java.util.Arrays;
import java.util.TreeSet;

import static org.junit.Assert.assertEquals;

public class MetadataFileHandlerTest {

    /**
     * Test of {@link MetadataFileHandler#getDatasetIdsWithSocatMetadata(String)}
     */
    @Test
    public void textGetDatasetIdsWithSocatMetadata() {

        System.setProperty("CATALINA_BASE", System.getenv("HOME") + "/Tomcat");
        System.setProperty("UPLOAD_DASHBOARD_SERVER_NAME", "SocatUploadDashboard");
        // Get the default dashboard configuration
        DashboardConfigStore configStore = null;
        try {
            configStore = DashboardConfigStore.get(false);
        } catch ( Exception ex ) {
            System.err.println("Problems reading the default dashboard configuration file: " + ex.getMessage());
            ex.printStackTrace();
            System.exit(1);
        }


        TreeSet<String> expocodes = configStore.getMetadataFileHandler()
                                               .getDatasetIdsWithSocatMetadata("kevin.sullivan");
        System.out.println(expocodes.toString());
        assertEquals(KEVIN_SULLICAN_SOCAT_METADATA_LIST, expocodes);
    }

    private static final TreeSet<String> KEVIN_SULLICAN_SOCAT_METADATA_LIST = new TreeSet<String>(Arrays.asList(
            // kevin.sullivan
            "33GG20151006", "33GG20151012", "33GG20160410", "33GG20160422", "33GG20160428", "33GG20160521",
            "33GG20160607", "33GG20160630", "33GG20160719", "33GG20160809", "33GG20160902", "33GG20160918",
            "33GG20161025", "33GG20161103", "33GG20161118", "33GG20170505", "33GG20170516", "33GG20170530",
            "33GG20170610", "33GG20170627", "33GG20170702", "33GG20170721", "33GG20170809", "33GG20170904",
            "33GG20170917", "33GG20171010", "33GG20171031", "33GG20171112", "33GG20180114", "33GG20180126",
            "33GG20180212", "33GG20180301", "33GG20180624", "33GG20180711", "33GG20180720", "33GG20180806",
            "33GG20180822", "33GG20180902", "33GG20180911", "33GG20181110", "33GG20190508", "33GG20190529",
            "33GG20190615", "33GG20190702", "33GG20190719", "33GG20190807", "33GG20190908", "33GG20191002",
            "33HH20160408", "33HH20160506", "33HH20160517", "33HH20160606", "33HH20160627", "33HH20160718",
            "33HH20160810", "33HH20160831", "33HH20160908", "33HH20160928", "33HH20161011", "33HH20161101",
            "33HH20161116", "33HH20170211", "33HH20170306", "33HH20170328", "33HH20170412", "33HH20170502",
            "33HH20170609", "33HH20170706", "33HH20180314", "33HH20180328", "33HH20180414", "33HH20180502",
            "33HH20180521", "33HH20180523", "33HH20180625", "33HH20180718", "33HH20180801", "33HH20180812",
            "33HH20180904", "33HH20180925", "33HH20181009", "33HH20181030", "33HH20190308", "33HH20190326",
            "33HH20190411", "33HH20190501", "33HH20190522", "33HH20190614", "33HH20190725", "33HH20190819",
            "33RO20071215", "33RO20081006", "33RO20081014", "33RO20100102", "33RO20100110", "33RO20101004",
            "33RO20101014", "33RO20110721", "33RO20120902", "33RO20130108", "33RO20130219", "33RO20130430",
            "33RO20130803", "33RO20130901", "33RO20131111", "33RO20140810", "33RO20141006", "33RO20160112",
            "33RO20160216", "33RO20160330", "33RO20160414", "33RO20161113", "33RO20161119", "33RO20170101",
            "33RO20170220", "33RO20170508", "33RO20170528", "33RO20180216", "33RO20180222", "33RO20180307",
            "33RO20180423", "33RO20180519", "33RO20180616", "33RO20180728", "33RO20180910", "33RO20181008",
            "33RO20190409", "33RO20190512", "33RO20190528", "33RR20160208", "33RR20160321", "33RR20160501",
            "33RR20160519", "33RR20160602", "33RR20160626", "33RR20160703", "33RR20160814", "33WA20161029",
            "33WA20161201", "33WA20161212", "33WA20170130", "33WA20170207", "33WA20170314", "33WA20170327",
            "33WA20170404", "33WA20170407", "33WA20170417", "33WA20170502", "33WA20170515", "33WA20170615",
            "33WA20170619", "33WA20170626", "33WA20170708", "33WA20170731", "33WA20180425", "33WA20180430",
            "BHAF20160410", "BHAF20160417", "BHAF20160424", "BHAF20160501", "BHAF20160508", "BHAF20160515",
            "BHAF20160522", "BHAF20160529", "BHAF20160605", "BHAF20160612", "BHAF20160619", "BHAF20160626",
            "BHAF20160703", "BHAF20160710", "BHAF20160717", "BHAF20160731", "BHAF20160807", "BHAF20160814",
            "BHAF20160821", "BHAF20160904", "BHAF20160911", "BHAF20160918", "BHAF20160925", "BHAF20161002",
            "BHAF20161009", "BHAF20161016", "BHAF20161023", "BHAF20161030", "BHAF20161106", "BHAF20161113",
            "BHAF20161120", "BHAF20161127", "BHAF20161204", "BHAF20161211", "BHAF20161218", "BHAF20161223",
            "BHAF20170102", "BHAF20170108", "BHAF20170115", "BHAF20170122", "BHAF20170129", "BHAF20170205",
            "BHAF20170212", "BHAF20170219", "BHAF20170226", "BHAF20170305", "BHAF20170312", "BHAF20170319",
            "BHAF20170326", "BHAF20170402", "BHAF20170409", "BHAF20170416", "BHAF20170423", "BHAF20170430",
            "BHAF20170507", "BHAF20170514", "BHAF20170521", "BHAF20170528", "BHAF20170604", "BHAF20170611",
            "BHAF20170618", "BHAF20170625", "BHAF20170702", "BHAF20170709", "BHAF20170806", "BHAF20170813",
            "BHAF20170820", "BHAF20170827", "BHAF20170903", "BHAF20170913", "BHAF20170917", "BHAF20170924",
            "BHAF20171001", "BHAF20171008", "BHAF20171015", "BHAF20171022", "BHAF20171029", "BHAF20171105",
            "BHAF20171112", "BHAF20171119", "BHAF20171126", "BHAF20171203", "BHAF20171210", "BHAF20171217",
            "BHAF20171224", "BHAF20171231", "BHAF20180107", "BHAF20180114", "BHAF20180128", "BHAF20180204",
            "BHAF20180211", "BHAF20180218", "BHAF20180225", "BHAF20180304", "BHAF20180311", "BHAF20180318",
            "BHAF20180325", "BHAF20180401", "BHAF20180408", "BHAF20180415", "BHAF20180429", "BHAF20180506",
            "BHAF20180513", "BHAF20180520", "BHAF20180527", "BHAF20180603", "BHAF20180610", "BHAF20180617",
            "BHAF20180624", "BHAF20180701", "BHAF20180708", "BHAF20180715", "BHAF20180722", "BHAF20180729",
            "BHAF20180805", "BHAF20180812", "BHAF20180819", "BHAF20180826", "BHAF20180902", "BHAF20180909",
            "BHAF20180916", "BHAF20180923", "BHAF20180930", "BHAF20181007", "BHAF20181014", "BHAF20181021",
            "BHAF20181028", "BHAF20181105", "BHAF20181111", "BHAF20181118", "BHAF20181125", "BHAF20181202",
            "BHAF20181209", "BHAF20181216", "BHAF20181223", "BHAF20181230", "BHAF20190113", "BHAF20190120",
            "BHAF20190127", "BHAF20190203", "BHAF20190210", "BHAF20190217", "BHAF20190224", "BHAF20190303",
            "BHAF20190421", "BHAF20190428", "BHAF20190505", "BHAF20190512", "BHAF20190519", "BHAF20190526",
            "BHAF20190602", "BHAF20190609", "BHAF20190616", "BHAF20190623", "BHAF20190630", "BHAF20190707",
            "BHAF20190714", "BHAF20190721", "BHAF20190728", "BHAF20190804", "BHAF20190811", "BHAF20190818",
            "BHAF20190825", "BHAF20190904", "BHAF20190908", "BHAF20190915", "BHAF20190922", "BHAF20190929",
            "BHAF20191006", "BMBE20121220", "MLCE20150627", "MLCE20150704", "MLCE20150711", "MLCE20150719",
            "MLCE20150725", "MLCE20150801", "MLCE20150814", "MLCE20150824", "MLCE20150907", "MLCE20150919",
            "MLCE20151003", "MLCE20151015", "MLCE20151027", "MLCE20151109", "MLCE20151120", "MLCE20151130",
            "MLCE20151211", "MLCE20151221", "MLCE20160102", "MLCE20160111", "MLCE20160122", "MLCE20160201",
            "MLCE20160212", "MLCE20160222", "MLCE20160304", "MLCE20160314", "MLCE20160325", "MLCE20160404",
            "MLCE20160806", "MLCE20160815", "MLCE20160826", "MLCE20160907", "MLCE20160921", "MLCE20161003",
            "MLCE20161030", "MLCE20161107", "MLCE20161119", "MLCE20161128", "MLCE20161209", "MLCE20161219",
            "MLCE20170102", "MLCE20170109", "MLCE20170120", "MLCE20170130", "MLCE20170210", "MLCE20170220",
            "MLCE20170303", "MLCE20170313", "MLCE20170324", "MLCE20170403", "MLCE20170414", "MLCE20170424",
            "MLCE20170505", "MLCE20170515", "MLCE20170526", "MLCE20170604", "MLCE20170611", "MLCE20170618",
            "MLCE20170625", "MLCE20170702", "MLCE20170709", "MLCE20170716", "MLCE20170723", "MLCE20170730",
            "MLCE20171230", "MLCE20180423", "MLCE20180804", "MLCE20180811", "MLCE20180818", "MLCE20180825",
            "MLCE20180903", "MLCE20180914", "MLCE20180924", "MLCE20181005", "MLCE20181015", "MLCE20181023",
            "MLCE20181026", "MLCE20181105", "MLCE20181116", "MLCE20181124", "MLCE20181201", "MLCE20181208",
            "MLCE20181215", "MLCE20181222", "MLCE20190105", "MLCE20190112", "MLCE20190119", "MLCE20190126",
            "MLCE20190202", "MLCE20190209", "MLCE20190216", "MLCE20190223", "MLCE20190302", "MLCE20190309",
            "MLCE20190316", "MLCE20190323", "MLCE20190330", "MLCE20190406", "MLCE20190413", "MLCE20190420",
            "MLCE20190629", "MLCE20190706", "MLCE20190713", "MLCE20190720", "MLCE20190727", "MLCE20190803",
            "MLCE20190810", "MLCE20190817", "MLCE20190824", "MLCE20190831", "MLCE20190907", "MLCE20190913",
            "MLCE20190923", "MLCE20191004",
            // denis.pierrot
            "33GG20110324", "74X120090912", "74X120090929", "74X120091019", "74X120110106", "74X120110529",
            "74X120110629", "74X120110720", "74X120110809", "74X120111210",
            // rik.wanninkhof
            "33GG20110414", "33GG20120515", "33GG20120609", "33GG20130430", "33GG20130520", "33GG20130609",
            "33GG20131126", "33HH20150519", "33HH20150610", "33HH20150624", "33HH20150727", "33HH20150812",
            "33HH20150901", "33HH20150923", "33HH20151007", "33HH20151027", "33HH20151112", "33RO20140321",
            "33RO20150114", "33RO20150130", "33RO20150227", "33RO20150410", "33RO20150525", "33RO20150714",
            "33RO20150806", "33RO20150822", "MLCE20150223", "MLCE20150306", "MLCE20150316", "MLCE20150327",
            "MLCE20150406", "MLCE20150417", "MLCE20150427", "MLCE20150511", "MLCE20150521", "MLCE20150602"
    ));

}
